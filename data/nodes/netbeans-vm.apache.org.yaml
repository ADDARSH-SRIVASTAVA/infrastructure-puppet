---
classes:
  - apache
  - apache::mod::rewrite
  - vhosts_asf::vhosts
  - netbeans_pvm_asf

apache::keepalive:          'On'
apache::keepalive_timeout:  '15'
apache::timeout:            600
apache::mpm_module:         'prefork'
apache::purge_configs:      false

vhosts_asf::vhosts::vhosts:
  netbeans-vm.apache.org-80:
    vhost_name: '*'
    ensure: 'present'
    port: 80
    servername: 'netbeans-vm.apache.org'
    default_vhost: true
    docroot: '/var/www/html'
    access_log_file: 'netbeans-vm.apache.org_access.log'
    error_log_file: 'netbeans-vm.apache.org_error.log'
    directories:
      -
        path: '/var/www/html'
        options:
          - 'FollowSymLinks'
          - 'MultiViews'
        allow_override:
          - 'All'
        order: 'allow,deny'
        allow: 'from all'
    custom_fragment: |

      <Directory />
        Options FollowSymLinks
        AllowOverride None
      </Directory>

      ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
      <Directory "/usr/lib/cgi-bin">
          AllowOverride None
          Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
          Order allow,deny
          Allow from all
      </Directory>

