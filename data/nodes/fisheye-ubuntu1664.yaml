---
classes:
  - apache
  - apache::mod::proxy
  - apache::mod::proxy_http
  - apache::mod::rewrite
  - fisheye_asf
#  - ssl::name::cwiki_apache_org 
  - vhosts_asf::vhosts 

# fisheye_asf class variables.
fisheye_asf::fisheye_version: '4.2.1'
fisheye_asf::parent_dir: '/usr/local/fisheye'
fisheye_asf::server_port: '8008'
fisheye_asf::connector_port: '8888'
fisheye_asf::context_path: '/fisheye'
fisheye_asf::docroot: '/var/www'

#logrotate::rule:
#  apache2:
#    ensure: 'present'

vhosts_asf::vhosts::vhosts:
  fisheye-80:
    vhost_name: '*'
    priority: '12'
    servername: 'fisheye.apache.org'
    serveraliases:
      - 'fisheye.apache.org'
    port: 80
    ssl: false
    docroot: '/var/www'
    error_log_file: 'fisheye_error.log'
    custom_fragment: |
      RedirectMatch permanent ^/(.*)$ https://fisheye.apache.org/$1
