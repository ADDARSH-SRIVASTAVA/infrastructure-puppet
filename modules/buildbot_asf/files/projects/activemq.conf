# This is the config file for the ACTIVEMQ project.

# schedulers

c['schedulers'].append(Nightly(name='activemq-site-production',
              builderNames=['activemq-site-production'],
              branch='activemq/activemq-website',
              minute=19))

#builders


f165 = factory.BuildFactory()
f165.addStep(Compile(command=["perl" , "/usr/local/cms/build/build_external.pl", "--type=shell", "--nonukes", "--noprops", "--source-base=/home/cmsslave/slave15/activemq-site-production/build" , "--target-base=/usr/local/websites/production/activemq/content"]))
f165.addStep(ShellCommand(command=["svn", "ci", "--username=buildbot", "/usr/local/websites/production/activemq", "-m", "Production update by buildbot for activemq"]))

b165 = {'name': "activemq-site-production",
      'slavename': "bb-cms-slave",
      'builddir': "activemq-site-production",
      'factory': f165,
      'category': "activemq-site-production",
      }

c['builders'].append(b165)

#mail status

c['status'].append(mail.MailNotifier(fromaddr="buildbot@apache.org",
                                     extraRecipients=["commits@activemq.apache.org"],
                                     sendToInterestedUsers=False,
                                     mode="change",
                                     categories=["activemq-site-production"]))
